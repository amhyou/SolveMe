<Puz4>:
    canvas.before:
        Rectangle:
            source:'image/p4/back.png'
            size:root.size
    Bic4:
        id:door
        source:'image/p4/door.png'
        pos_hint:{'top':.8,'right':1.05}
        size_hint:.15,.15
        canvas.before:
            PushMatrix
            Translate:
                x:self.xx   
                y:self.yy
            Rotate:
                origin:self.center
                angle:self.angle
            Scale:
                origin:self.center
                x:self.sx
                y:self.sy
        canvas.after:
            PopMatrix
    Bic4:
        id:aze
        source:'image/p4/1.png'
        size_hint:.1,.15
        canvas.before:
            PushMatrix
            Translate:
                x:self.xx   
                y:self.yy
            Rotate:
                origin:self.center
                angle:self.angle
            Scale:
                origin:self.center
                x:self.sx
                y:self.sy
        canvas.after:
            PopMatrix

    Bic4:
        id:fire1
        source:'image/p4/fire.png'
        pos_hint:{'top':0,'center_x':.2}
        size_hint:.08,.1
        canvas.before:
            PushMatrix
            Translate:
                x:self.xx   
                y:self.yy
            Rotate:
                origin:self.center
                angle:self.angle
            Scale:
                origin:self.center
                x:self.sx
                y:self.sy
        canvas.after:
            PopMatrix
    Bic4:
        id:fire2
        source:'image/p4/fire.png'
        pos_hint:{'top':0,'center_x':.5}
        size_hint:.08,.1
        canvas.before:
            PushMatrix
            Translate:
                x:self.xx   
                y:self.yy
            Rotate:
                origin:self.center
                angle:self.angle
            Scale:
                origin:self.center
                x:self.sx
                y:self.sy
        canvas.after:
            PopMatrix
    Bic4:
        id:fire3
        source:'image/p4/fire.png'
        pos_hint:{'top':0,'center_x':.8}
        size_hint:.08,.1
        canvas.before:
            PushMatrix
            Translate:
                x:self.xx   
                y:self.yy
            Rotate:
                origin:self.center
                angle:self.angle
            Scale:
                origin:self.center
                x:self.sx
                y:self.sy
        canvas.after:
            PopMatrix
    Button:
        id:next
        background_normal:'image/tr/next.png'
        background_down:'image/tr/next_d.png'
        background_disabled_normal:'image/tr/next.png'
        size_hint:(.15,.15)
        pos_hint: {'right':1,'center_y':.37}
        opacity:0
        disabled:True
        on_release:
            app.change('puz5')
    Image:
        id:cgr
        source:'image/tr/cgr.png'
        size_hint:(.7,.15)
        pos_hint: {'center_x': .5,'center_y':.2}
        opacity:0
    Image:
        id:hnt
        source:'image/tr/hint.png'
        size_hint:(.7,.15)
        pos_hint: {'center_x': .5,'center_y':.2}
        opacity:0

    